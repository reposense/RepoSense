html
  head
    title RepoSense Report
    link(rel="shortcut icon", type="image/x-icon", href="favicon.ico")
    link(rel="stylesheet", href="https://fonts.googleapis.com/css?family=Titillium+Web")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/normalize.css@8.0/normalize.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/muicss@0.9/dist/css/mui.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/highlight.js@9.14/styles/color-brewer.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/vue-loading-spinner@1.0/dist/vue-loading-spinner.css")
    link(rel="stylesheet", href="static/css/panels.css")
    link(rel="stylesheet", href="static/css/style.css")
    link(rel="stylesheet", href="static/css/v_authorship.css")
    link(rel="stylesheet", href="static/css/v_ramp.css")
    link(rel="stylesheet", href="static/css/v_summary.css")
    link(rel="stylesheet", href="static/css/v_zoom.css")

    // indirect dependencies
    script(src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js")
    script(src="https://use.fontawesome.com/releases/v5.0.13/js/all.js", defer=True)

    script(src="https://cdn.jsdelivr.net/npm/@fortawesome/vue-fontawesome@0.1.9/index.min.js")
    script(src="https://cdn.jsdelivr.net/npm/jszip@3.1/dist/jszip.min.js")
    script(src="https://cdn.jsdelivr.net/npm/seedrandom@3.0.5/seedrandom.min.js")
    script(src="https://cdn.jsdelivr.net/npm/vue-loading-spinner@1.0/dist/vue-loading-spinner.js")
    script(src="https://cdn.jsdelivr.net/npm/vue@2.5/dist/vue.js")
    script(src="https://unpkg.com/vuex@3.1.3/dist/vuex.js")

    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.14/build/highlight.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.14/build/languages/asciidoc.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.14/build/languages/gradle.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.14/build/languages/plaintext.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.14/build/languages/scss.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.14/build/languages/yaml.min.js")
  body
    #app
      #app-wrapper(v-if="userUpdated", onmousemove="mouseMove(event)",
        onmouseup="deregisterMouseMove()", onmouseleave="deregisterMouseMove()")
        #tab-resize-guide
        #summary-wrapper
          .summary-status(v-if="loadedRepo<repoLength") Loading repos ... {{ loadedRepo }} / {{ repoLength }}
          v-summary.tab-padding(
            ref="summary",
            v-bind:repos="users",
            v-bind:error-messages="errorMessages",
            v-on:get-dates="receiveDates"
          )
          .timestamp-footer
            span Generated by&nbsp;
            a(
              v-bind:href="getRepoSenseHomeLink()", target="_blank"
            )
              strong RepoSense
            span &nbsp;(
            a(
              v-bind:href="getUserGuideVersionLink()", target ="_blank"
            )
              strong User Guide - {{ repoSenseVersion }}
            span ) on {{ creationDate }}
          .report-generation-time(style="display: none;")
            span {{ reportGenerationTime }}

        #tabs-wrapper(v-if="isTabActive")
          #tab-resize(onmousedown="registerMouseMove()")
          .tab-close(v-on:click="deactivateTab")
            font-awesome-icon(icon="caret-right")
          .tab-content.panel-padding
            .tab-panes
              v-authorship#tab-authorship.tab-pane(
                v-if="tabType === 'authorship'",
                v-bind:key="generateKey(tabInfo.tabAuthorship)",
                v-bind:info="tabInfo.tabAuthorship")
              v-zoom#tab-zoom.tab-pane(
                v-else-if="tabType === 'zoom'",
                v-bind:key="generateKey(tabInfo.tabZoom)",
                v-bind:info="tabInfo.tabZoom")
              #tab-empty.tab-pane(v-else)
                .title
                  span To view the code attributed to a specific author, click the &nbsp;
                  font-awesome-icon(icon="code")
                  span &nbsp; icon next to that author's name.
                  br
                  span To hide the code view, click the &nbsp;
                  font-awesome-icon(icon="caret-right")
                  span &nbsp; icon on the left.

      template(v-else)
        .empty Please upload a .zip file generated by RepoSense.

        form#file-upload(onsubmit="return false;")
          input(type="file", accept=".zip", v-on:change="updateReportZip")
          .loader(v-if="isLoading")
            circle-spinner
            .loading Loading resources...

    vuetemplate#v_summary
      include summary.pug

    vuetemplate#v_summary_charts
      include summary_charts.pug

    vuetemplate#v_ramp
      include ramp.pug

    vuetemplate#v_zoom
      include tabs/zoom.pug

    vuetemplate#v_segment
      include tabs/segment.pug

    vuetemplate#v_authorship
      include tabs/authorship.pug

    script(src="static/js/api.js")
    script(type="module", src="static/js/store.js")
    script(src="static/js/safari_date.js")
    script(src="static/js/v_ramp.js")
    script(src="static/js/v_zoom.js")
    script(src="static/js/v_summary_charts.js")
    script(src="static/js/v_segment.js")
    script(src="static/js/v_summary.js")
    script(src="static/js/v_authorship.js")
    script(type="module", src="static/js/main.js")
