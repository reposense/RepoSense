<!DOCTYPE html>
html
  head
    title RepoSense Report
    link(rel="shortcut icon", type="image/x-icon", href="favicon.ico")
    link(rel="stylesheet", href="https://fonts.googleapis.com/css?family=Titillium+Web")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/normalize.css@8.0/normalize.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/muicss@0.9/dist/css/mui.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.1/styles/color-brewer.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3/dist/vue-loading.css")
    link(rel="stylesheet", href="static/css/panels.css")
    link(rel="stylesheet", href="static/css/style.css")
    link(rel="stylesheet", href="static/css/v_authorship.css")
    link(rel="stylesheet", href="static/css/v_ramp.css")
    link(rel="stylesheet", href="static/css/v_summary.css")
    link(rel="stylesheet", href="static/css/v_zoom.css")

    // indirect dependencies
    script(src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js")
    script(src="https://use.fontawesome.com/releases/v5.0.13/js/all.js", defer=True)

    script(src="https://cdn.jsdelivr.net/npm/@fortawesome/vue-fontawesome@0.1.9/index.min.js")
    script(src="https://cdn.jsdelivr.net/npm/jszip@3.1/dist/jszip.min.js")
    script(src="https://cdn.jsdelivr.net/npm/seedrandom@3.0.5/seedrandom.min.js")
    script(src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3")
    script(src="https://cdn.jsdelivr.net/npm/vue@2.5/dist/vue.js")
    script(src="https://unpkg.com/vuex@3.1.3/dist/vuex.js")

    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/highlight.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/asciidoc.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/gradle.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/plaintext.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/scss.min.js")
    script(src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/yaml.min.js")
  body
    #app
      loading-overlay.overlay-loader(
        v-cloak,
        v-bind:active.sync="isLoadingOverlayEnabled",
        v-bind:opacity='loadingOverlayOpacity',
        v-bind:is-full-page="true"
      )
        i.overlay-loading-icon.fa.fa-spinner.fa-spin(slot='default')
        h3(slot='after') {{ loadingOverlayMessage }}

      template(v-if="userUpdated")
        v-resizer(
          v-bind:is-tab-active="isTabActive",
          v-on:close-tab="deactivateTab"
        )
          #summary-wrapper(slot="left")
            v-summary.tab-padding(
              ref="summary",
              v-bind:repos="users",
              v-bind:error-messages="errorMessages"
            )
            .timestamp-footer
              span Generated by&nbsp;
              a(
                v-bind:href="getSpecificCommitLink()", target="_blank"
              )
                strong this version
              span &nbsp;of&nbsp;
              a(
                v-bind:href="getRepoSenseHomeLink()", target="_blank"
              )
                strong RepoSense
              span &nbsp;(
              a(
                v-bind:href="getUserGuideLink()", target ="_blank"
              )
                strong User Guide
              span ) on {{ creationDate }}
            .report-generation-time(style="display: none;")
              span {{ reportGenerationTime }}

          #tabs-wrapper(ref="tabWrapper", slot="right")
            .tab-content.panel-padding
              .tab-pane
                v-authorship#tab-authorship(v-if="tabType === 'authorship'")
                v-zoom#tab-zoom(v-else-if="tabType === 'zoom'")
                #tab-empty(v-else)
                  .title
                    h2 Welcome to this RepoSense report!
                    p The charts on the left show the contribution activities, grouped by repository and author.
                    p
                      | To view the code attributed to a specific author, click the &nbsp;
                      font-awesome-icon(icon="code")
                      | &nbsp; icon next to that author's name.
                      br
                      | To view the breakdown of commits made by a specific author, click the &nbsp;
                      font-awesome-icon(icon="list-ul")
                      | &nbsp; icon next to that author's name.
                      br
                      | To hide the code view and show only the activity charts, click the &nbsp;
                      font-awesome-icon(icon="caret-right")
                      | &nbsp; icon on the centre divider.
                    p
                      | See the &nbsp;
                      a(
                        v-bind:href="getUsingReportsUserGuideLink()", target="_blank"
                      )
                        strong User Guide
                      | &nbsp; to get a better understanding of how to interpret the report.

      template(v-else)
        .empty Please upload a .zip file generated by RepoSense.

        form#file-upload(onsubmit="return false;")
          input(type="file", accept=".zip", v-on:change="updateReportZip")

    vuetemplate#v_resizer
      include resizer.pug

    vuetemplate#v_summary
      include summary.pug

    vuetemplate#v_summary_charts
      include summary_charts.pug

    vuetemplate#v_ramp
      include ramp.pug

    vuetemplate#v_zoom
      include tabs/zoom.pug

    vuetemplate#v_segment
      include tabs/segment.pug

    vuetemplate#v_authorship
      include tabs/authorship.pug

    script(src="static/js/api.js")
    script(type="module", src="static/js/store.js")
    script(src="static/js/safari_date.js")
    script(src="static/js/v_resizer.js")
    script(src="static/js/v_ramp.js")
    script(src="static/js/v_zoom.js")
    script(src="static/js/v_summary_charts.js")
    script(src="static/js/v_segment.js")
    script(src="static/js/v_summary.js")
    script(type="module", src="static/js/v_authorship.js")
    script(src="static/js/utils/ramp_colour_generator.js")
    script(src="static/js/utils/repo_sorter.js")
    script(type="module", src="static/js/main.js")
